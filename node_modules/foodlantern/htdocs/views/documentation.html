        <main class="container">
            <div class="row">
                <aside class="col-md-2 col-sm-3">
                    <nav class="h5a-sidebar affix">
                        <ul class="nav h5a-sidenav nav-list accordian navbar-collapse">
                            <li data-toggle="collapse" data-target="#nav-game">
                                <a>Game</a>
                                <ul id="nav-game" class="nav nav-list collapse">
                                    <li>
                                        <a href="#game-overview">Overview</a>
                                    </li>
                                    <li>
                                        <a href="#game-attributes">Attributes</a>
                                    </li>
                                    <li>
                                        <a href="#game-methods">Methods</a>
                                    </li>
                                </ul>
                            </li>
                            <li data-toggle="collapse" data-target="#nav-lantern">
                                <a>Lantern</a>
                                <ul id="nav-lantern" class="nav nav-list collapse">
                                    <li>
                                        <a href="#lantern-overview">Overview</a>
                                    </li>
                                    <li>
                                        <a href="#lantern-attributes">Attributes</a>
                                    </li>
                                    <li>
                                        <a href="#lantern-methods">Methods</a>
                                    </li>
                                </ul>
                            </li>
                            <li data-toggle="collapse" data-target="#nav-resource">
                                <a>Resource</a>
                                <ul id="nav-resource" class="nav nav-list collapse">
                                    <li>
                                        <a href="#resource-overview">Overview</a>
                                    </li>
                                    <li>
                                        <a href="#resource-attributes">Attributes</a>
                                    </li>
                                    <li>
                                        <a href="#resource-methods">Methods</a>
                                    </li>
                                </ul>
                            </li>
                            <li data-toggle="collapse" data-target="#nav-player">
                                <a>Player</a>
                                <ul id="nav-player" class="nav nav-list collapse">
                                    <li>
                                        <a href="#player-overview">Overview</a>
                                    </li>
                                    <li>
                                        <a href="#player-attributes">Attributes</a>
                                    </li>
                                    <li>
                                        <a href="#player-methods">Methods</a>
                                    </li>
                                </ul>
                            </li>
                        </ul>
                    </nav>
                </aside>
                <div class="col-md-10 col-sm-9">
                    <div class="page-header">
                        <h1>FoodLantern <small>API Documentation</small></h1>
                        <h4>Creative Technologists of Toronto</h4>
                    </div>
                    <article id="Introduction">
                        <p>Lantern Recipe is a project by the <a href="http://cttoronto.com/">Creative Technologists of Toronto <i class="fa fa-external-link"></i></a> that aims to educate people about urban foraging and the local vegetation that surrounds them. iBeacon lanterns are placed within the urban environment, close to naturally occurring edible vegetation. Players download a mobile application that has a list of ingredients that they must collect in order to complete their recipe. The ingredients list contains information and hints about where they can collect their ingredients. As players follow these clues and approach an active ingredient, the lantern, controlled by an iBeacon will open up to display their ingredient. By means of BLE communication the ingredient will be unlocked/collected in their mobile app and they can proceed to collect their next ingredient. Once they have collected all the necessary ingredients their recipe will be revealed and they will be able to taste a real world sample of urban foraged cuisine. Yum.</p>
                        <p>Technologies: RFduino, PhoneGap, Ionic & Node.js</p>
                        <p>Repositories for the RFduino and the Node.js server will provided soon.</p>
                    </article>
                    <article id="game">
                        <h2>Game</h2>
                        <div id="game-overview" class="panel panel-warning">
                            <h3 class="panel-heading">Overview</h3>
                            <div class="panel-body">
                                <p>Each environment of the FoodLantern contains a variable called <code>game</code> that contains a keyed list of active games.</p>
                                <p>During the initialization process, if there is no game running after attempting to load active games from the database, a new game will be generated with the name “Default”. This game will be saved to the database for future initializations and to maintain a consistent user base.</p>
                                <p>This practice of having a default game has a high likelihood of changing in the future.</p>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-3">
                                <div id="game-attributes" class="panel panel-success">
                                    <h3 class="panel-heading">Attributes</h3>
                                    <div class="panel-body">
                                        <dl>
                                            <dt><code>_id</code> <small><em>(String)</em></small></dt>
                                            <dd>The unique database ID given by the MongoDB server. This is used to identify the game within the environment. It is also used when migrating or moving from one game to another within the API.</dd>
                                            <dt><code>name</code> <small><em>(String)</em></small></dt>
                                            <dd>Human readable name given to label the instance.</dd>
                                            <dt><code>speed</code> <small><em>(Number)</em></small></dt>
                                            <dd>A modifier for elements that take time within the game, such as the regeneration or consumption of resources.</dd>
                                            <dt><code>distance</code> <small><em>(Number)</em></small></dt>
                                            <dd>A modifier for the default ranges of resources. This is used if the global ranges are increased of decreased.</dd>
                                            <dt><code>date_start</code> <small><em>(Number)</em></small></dt>
                                            <dd>The UTC timecode of the instance start time.</dd>
                                            <dt><code>date_end</code> <small><em>(Number)</em></small></dt>
                                            <dd>The UTC timecode of the instance end time.</dd>
                                            <dt><code>lanterns</code> <small><em>(Array)</em></small></dt>
                                            <dd>An array of all the <a href="#lantern">lanterns</a> within the game instance.</dd>
                                            <dt><code>recipes</code> <small><em>(Array)</em></small></dt>
                                            <dd>An array of all the recipes associated to the game instance.</dd>
                                            <dt><code>players</code> <small><em>(Array)</em></small></dt>
                                            <dd>All the players that have registered or are within the game instance.</dd>
                                            <dt><code>status</code> <small><em>(Number)</em></small></dt>
                                            <dd>Whether the game is currently active, disabled or any potential states of which may effect players.</dd>
                                            <dt><code>geofence</code> <small><em>(Object)</em></small></dt>
                                            <dd>
                                                <dl>
                                                    Used to ensure that people stay within the gaming region.
                                                    <dt><code>longitude</code> <small><em>(Number)</em></small></dt>
                                                    <dd>A geographic coordinate that specifies the east-west position of a point on the Earth's surface.</dd>
                                                    <dt><code>latitude</code> <small><em>(Number)</em></small></dt>
                                                    <dd>A geographic coordinate that specifies the north-south position of a point on the Earth's surface.</dd>
                                                    <dt><code>radius</code> <small><em>(Number)</em></small></dt>
                                                    <dd>The positive and negative difference that is allowed from the centre-point defined by the <em>longitude</em> and <em>latitude</em></dd>
                                                </dl>
                                            </dd>
                                        </dl>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-9">
                                <div id="game-methods" class="panel panel-info">
                                    <h3 class="panel-heading">Methods</h3>
                                    <div class="panel-body">
                                        <div class="panel panel-default">
                                            <div class="panel-heading" data-toggle="collapse" data-target="#game-methods-list"><span class="label label-success">GET</span> <code>/games</code><span class="label label-warning pull-right">Draft</span></div>
                                            <div class="panel-body collapse" id="game-methods-list">
                                                <p>Returns a list of active games running on the server.</p>
                                            </div>
                                        </div>
                                        <div class="panel panel-default">
                                            <div class="panel-heading" data-toggle="collapse" data-target="#game-methods-details"><span class="label label-success">GET</span> <code>/games/{_id}</code><span class="label label-warning pull-right">Draft</span></div>
                                            <div class="panel-body collapse" id="game-methods-details">
                                                <p>Return the details a a specific game.</p>
                                            </div>
                                        </div>
                                        <div class="panel panel-default">
                                            <div class="panel-heading" data-toggle="collapse" data-target="#game-methods-join"><span class="label label-success">GET</span> <code>/games/join/{_id}</code><span class="label label-danger pull-right">Incomplete</span></div>
                                            <div class="panel-body collapse" id="game-methods-join">
                                                <p>Updates the session game to the requested ID. The return data will be the new game instance details.</p>
                                                <p>If no game with that ID exists, no transfer will be made and an error response will be returned with the code: <code>601</code>.</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </article>
                    <hr />
                    <article id="lantern">
                        <h2>Lantern</h2>
                        <div id="lantern-overview" class="panel panel-warning">
                            <h3 class="panel-heading">Overview</h3>
                            <div class="panel-body">
                                <p>Each unique lantern is the primary focus of the game. These lanterns are interacted with by the players to capture various resources for the recipes within the game instance.</p>
                                <p>The lanterns themselves are simply geolocated elements that have a server side resource value to them that depletes for various reasons upon a capture by a player.</p>
                                <p>The resource replenishes over time within the server side logic and is available to be captured only when there is no other player occupying it.</p>
                                <p>While lanterns generally have resources attributed to them, there is also a possibility that the lantern has a special effect placed upon it. This effect could be positive, negative or neutral to the player that captures it or others.</p>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-3">
                                <div id="lantern-attributes" class="panel panel-success">
                                    <h3 class="panel-heading">Attributes</h3>
                                    <div class="panel-body">
                                        <dl>
                                            <dt><code>_id</code> <small><em>(String)</em></small></dt>
                                            <dd>The unique database ID given by the MongoDB server. This is used when referencing the lantern in any API call.</dd>
                                            <dt><code>game_id</code> <small><em>(String)</em></small></dt>
                                            <dd>The game id that the lantern is associated to.</dd>
                                            <dt><code>uid</code> <small><em>(String)</em></small></dt>
                                            <dd>The unique identifier of the <a href="http://www.rfduino.com/" target="_blank">RFDuino <i class="fa fa-external-link"></i></a> device.</dd>
                                            <dt><code>name</code> <small><em>(String)</em></small></dt>
                                            <dd>A human readable name given to the lantern. This will also be used for labelling the lantern on the players’ devices</dd>
                                            <dt><code>description</code> <small><em>(String)</em></small></dt>
                                            <dd>A detailed description of the lantern. This is not to be confused with a tip which is another variable.</dd>
                                            <dt><code>notation</code> <small><em>(String)</em></small></dt>
                                            <dd>Any added information such as hints, tips or side notes are maintained in the secondary variable.</dd>
                                            <dt><code>status</code> <small><em>(Number)</em></small></dt>
                                            <dd>Whether the lantern is active, inactive or already has an occupant.</dd>
                                            <dt><code>occupant</code> <small><em>(String)</em></small></dt>
                                            <dd>The occupant’s ID string is stored when the lantern is in use. Otherwise, the occupant variable will remain an empty string.</dd>
                                            <dt><code>resources</code> <small><em>(Array)</em></small></dt>
                                            <dd>Any <a href="#resource">resources</a> that are associated to the lantern. There may be multiple resources available and therefore even 1 resource will be listed as and array item.</dd>
                                            <dt><code>geolocation</code> <small><em>(Object)</em></small></dt>
                                            <dd>
                                                <dl>
                                                    Used to position and locate the lantern on a map.
                                                    <dt><code>longitude</code> <small><em>(Number)</em></small></dt>
                                                    <dd>A geographic coordinate that specifies the east-west position of a point on the Earth's surface.</dd>
                                                    <dt><code>latitude</code> <small><em>(Number)</em></small></dt>
                                                    <dd>A geographic coordinate that specifies the north-south position of a point on the Earth's surface.</dd>
                                                </dl>
                                            </dd>
                                        </dl>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-9">
                                <div id="lantern-methods" class="panel panel-info">
                                    <h3 class="panel-heading">Methods</h3>
                                    <div class="panel-body">
                                        <div class="panel panel-default">
                                            <div class="panel-heading" data-toggle="collapse" data-target="#lantern-methods-details"><span class="label label-success">GET</span> <code>/lanterns/{_id}</code><span class="label label-danger pull-right">Incomplete</span></div>
                                            <div class="panel-body collapse" id="lantern-methods-details">
                                                <p>Returns the lantern information.</p>
                                            </div>
                                        </div>
                                        <div class="panel panel-default">
                                            <div class="panel-heading" data-toggle="collapse" data-target="#lantern-methods-list"><span class="label label-success">GET</span> <code>/lanterns/list</code><span class="label label-danger pull-right">Incomplete</span></div>
                                            <div class="panel-body collapse" id="lantern-methods-list">
                                                <p>Returns a list of lanterns for the game the user is within.</p>
                                            </div>
                                        </div>
                                        <div class="panel panel-default">
                                            <div class="panel-heading" data-toggle="collapse" data-target="#lantern-methods-capture"><span class="label label-success">GET</span> <code>/lanterns/capture/{_id}</code><span class="label label-danger pull-right">Incomplete</span></div>
                                            <div class="panel-body collapse" id="lantern-methods-capture">
                                                <p>Sets the current player to the occupant of the lantern if the lantern is not otherwise occupied. It returns a response that includes a number based UTC time that is when the player will be automatically booted from the lantern if no activity was performed.</p>
                                                <p>If the lantern already has an occupant associated to it, the result will be an error with a code of <code>700</code> and message of “Lantern {_id} is occupied”.</p>
                                            </div>
                                        </div>
                                        <div class="panel panel-default">
                                            <div class="panel-heading" data-toggle="collapse" data-target="#lantern-methods-release"><span class="label label-success">GET</span> <code>/lanterns/release/{_id}</code><span class="label label-danger pull-right">Incomplete</span></div>
                                            <div class="panel-body collapse" id="lantern-methods-release">
                                                <p>Releases the lantern for others to be able to capture. This method is automatically called on the server after the expiration of the capture countdown.</p>
                                            </div>
                                        </div>
                                        <div class="panel panel-default">
                                            <div class="panel-heading" data-toggle="collapse" data-target="#lantern-methods-renew"><span class="label label-success">GET</span> <code>/lanterns/renew/{_id}</code><span class="label label-danger pull-right">Incomplete</span></div>
                                            <div class="panel-body collapse" id="lantern-methods-renew">
                                                <p>Renew the capture time limit on the requested lantern.</p>
                                            </div>
                                        </div>
                                        <div class="panel panel-default">
                                            <div class="panel-heading" data-toggle="collapse" data-target="#lantern-methods-drain"><span class="label label-success">GET</span> <code>/lanterns/drain/{resource:_id}/{amount:Number}</code><span class="label label-danger pull-right">Incomplete</span></div>
                                            <div class="panel-body collapse" id="lantern-methods-drain">
                                                <p>Reduce the quantity of a specific resource of the lantern.</p>
                                                <p>The <code>resource:_id</code> attribute comes from the array item of the resource collected and must be a valid ID of the lantern that the player has currently captured.</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </article>
                    <hr />
                    <article id="resource">
                        <h2>Resource</h2>
                        <div id="resource-overview" class="panel panel-warning">
                            <h3 class="panel-heading">Overview</h3>
                            <div class="panel-body">
                                <p>Resources are collected by capturing a lantern and then initiating a capture. The amount of resources captured are limited to the amount that are available at the time of capture.</p>
                                <p>Resources will not increase in quantity while the containing lantern is captured but will regenerate based upon their regeneration number per minute.</p>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-3">
                                <div id="resource-attributes" class="panel panel-success">
                                    <h3 class="panel-heading">Attributes</h3>
                                    <div class="panel-body">
                                        <dl>
                                            <dt><code>_id</code> <small><em>(String)</em></small></dt>
                                            <dd>The unique database ID given by the MongoDB server. This is used when referencing the resource in any API call.</dd>
                                            <dt><code>name</code> <small><em>(String)</em></small></dt>
                                            <dd>Human readable name of the resource.</dd>
                                            <dt><code>description</code> <small><em>(String)</em></small></dt>
                                            <dd>Long description of the resource, this is likely a long description that can contain hyperlinks to external resources.</dd>
                                            <dt><code>special</code> <small><em>(String)</em></small></dt>
                                            <dd>Any special attribute instructions are contained within this attribute. Format should be a JSON based string.</dd>
                                            <dt><code>distance</code> <small><em>(Number)</em></small></dt>
                                            <dd>The default distance that the resource requires the player to be in order to capture the lantern that it is located at.</dd>
                                            <dt><code>type</code> <small><em>(Number)</em></small></dt>
                                            <dd>The type of acquisition the resource uses:<br />
                                                <code>1</code> = quantity<br />
                                                <code>2</code> = percentage<br />
                                                <code>3</code> = single
                                            </dd>
                                            <dt><code>maximum</code> <small><em>(Number)</em></small></dt>
                                            <dd>The cap of the resources that can be contained at a given lantern.</dd>
                                            <dt><code>current</code> <small><em>(Number)</em></small></dt>
                                            <dd>The quantity of resources currently located at the given lantern.</dd>
                                            <dt><code>regeneration</code> <small><em>(Number)</em></small></dt>
                                            <dd>The speed in which the resource regenerates per minute.</dd>
                                        </dl>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-9">
                                <div id="resource-methods" class="panel panel-info">
                                    <h3 class="panel-heading">Methods</h3>
                                    <div class="panel-body">
                                        <div class="panel panel-default">
                                            <div class="panel-heading" data-toggle="collapse" data-target="#resources-methods-details"><span class="label label-success">GET</span> <code>/resources/{_id}</code><span class="label label-danger pull-right">Incomplete</span></div>
                                            <div class="panel-body collapse" id="resources-methods-details">
                                                <p>Returns the resource information.</p>
                                            </div>
                                        </div>
                                        <div class="panel panel-default">
                                            <div class="panel-heading" data-toggle="collapse" data-target="#resources-methods-list"><span class="label label-success">GET</span> <code>/resources/list</code><span class="label label-danger pull-right">Incomplete</span></div>
                                            <div class="panel-body collapse" id="resources-methods-list">
                                                <p>Returns a list of resources available within the game the player is in.</p>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </article>
                </div>
            </div>
        </main>
        
        <script>
            (function () {
                "use strict";
                
                /***
                 * Small snipped to save on coding the plethora of toggles for each definition
                 * term and description. This will run through and use the ID of the panel
                 * to create unique IDs for the definitions, as well as allow the term to
                 * show / hide the definition. This generally wouldn't be needed but there are
                 * a lot of terms and this makes the page look nicer
                 */
                
                // Capture all the panels
                var panels = document.getElementsByClassName('panel'),
                    // Setup some generic variables
                    dataObj = {}, i, d;
                
                // Loop through each of the panels on the page
                for (i = 0; i < panels.length; i += 1) {
                    // Select any of the definition terms and definition descriptions
                    dataObj.terms        = panels[i].querySelectorAll('dt');
                    dataObj.definitions    = panels[i].querySelectorAll('dd');
                    
                    // loop through for each of the panel's definition terms
                    for (d = 0; d < dataObj.terms.length; d += 1) {
                        // Set the term to be the toggle of the description
                        dataObj.terms[d].setAttribute('data-toggle', 'collapse');
                        dataObj.terms[d].setAttribute('data-target', '#' + panels[i].getAttribute('id') + '-' + (dataObj.terms[d].querySelector('code').textContent));
                        
                        // Set the ID and collapsed class of the definition
                        dataObj.definitions[d].setAttribute('class', 'collapse');
                        dataObj.definitions[d].setAttribute('id', panels[i].getAttribute('id') + '-' + (dataObj.terms[d].querySelector('code').textContent));
                    }
                }
            }());
        </script>
